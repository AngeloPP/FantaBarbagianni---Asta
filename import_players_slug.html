
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8"/>
  <title>Importa Giocatori (slug) ➜ Firebase</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 24px; }
    button { padding: 10px 16px; border: none; background: #4f46e5; color: #fff; border-radius: 8px; cursor: pointer; }
    pre { background:#f6f8fa; padding:12px; border-radius:8px; max-height:240px; overflow:auto; }
    #log { background:#111; color:#0f0; padding:10px; border-radius:8px; white-space:pre-wrap; max-height:220px; overflow:auto; }
    .ok { color:#155724; font-weight:700 }
    .err { color:#b00020; font-weight:700 }
  </style>
</head>
<body>
  <h1>Importa Giocatori ➜ Firebase (con slug sicuri)</h1>
  <p>Scrive su <code>/players</code> come mappa: <code>slug ➜ { name: "Nome Visuale" }</code>. I venduti useranno lo stesso <code>slug</code>.</p>
  <button onclick="importa()">Importa ora</button>
  <p id="esito"></p>
  <div id="log"></div>
  <h3>Anteprima (prime 30):</h3>
  <pre id="preview"></pre>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDoW-B08tYEdAk-ajr6pebJvs7CejkB-qY",
      authDomain: "fantabarbagianni---asta.firebaseapp.com",
      databaseURL: "https://fantabarbagianni---asta-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "fantabarbagianni---asta",
      storageBucket: "fantabarbagianni---asta.firebasestorage.app",
      messagingSenderId: "11858821392",
      appId: "1:11858821392:web:89f9d1aca2d1618808a595",
      measurementId: "G-1QXXVK09KQ"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const log = (...a)=>{ const el=document.getElementById('log'); el.textContent += a.join(' ') + "\n"; };
    const show = (msg, ok=false)=>{ const e=document.getElementById('esito'); e.textContent=msg; e.className=ok?'ok':'err'; };

    const pairs = {"Aboukhlal": "aboukhlal", "Acerbi": "acerbi", "Adams C.": "adams-c", "Addai": "addai", "Adopo": "adopo", "Adzic": "adzic", "Aebischer": "aebischer", "Ahanor": "ahanor", "Akinsanmiro": "akinsanmiro", "Alli": "alli", "Almqvist": "almqvist", "Alvarez A.": "alvarez-a", "Angelino": "angelino", "Angori": "angori", "Anjorin": "anjorin", "Arena": "arena", "Asllani": "asllani", "Athekame": "athekame", "Atta": "atta", "Audero": "audero", "Azon": "azon", "Baldanzi": "baldanzi", "Balogh": "balogh", "Banda": "banda", "Barbieri": "barbieri", "Barella": "barella", "Bartesaghi": "bartesaghi", "Baschirotto": "baschirotto", "Basic": "basic", "Bastoni": "bastoni", "Baturina": "baturina", "Bayo V.": "bayo-v", "Belahyane": "belahyane", "Bellanova": "bellanova", "Beltran L.": "beltran-l", "Benedyczak": "benedyczak", "Berardi": "berardi", "Berisha M.": "berisha-m", "Bernabè": "bernabe", "Bernardeschi": "bernardeschi", "Bernede": "bernede", "Bertola": "bertola", "Beukema": "beukema", "Bianchetti": "bianchetti", "Bianco": "bianco", "Biraghi": "biraghi", "Bisseck": "bisseck", "Boloca": "boloca", "Bonazzoli": "bonazzoli", "Bondo": "bondo", "Bonfanti": "bonfanti", "Bonfanti N.": "bonfanti-n", "Bonny": "bonny", "Borrelli": "borrelli", "Bradaric": "bradaric", "Bravo": "bravo", "Bremer": "bremer", "Brenner": "brenner", "Brescianini": "brescianini", "Buffon L.": "buffon-l", "Buongiorno": "buongiorno", "Butez": "butez", "Cabal": "cabal", "Calabresi": "calabresi", "Calhanoglu": "calhanoglu", "Camarda": "camarda", "Cambiaghi": "cambiaghi", "Cambiaso": "cambiaso", "Cancellieri": "cancellieri", "Candè": "cande", "Canestrelli": "canestrelli", "Caprile": "caprile", "Caqueret": "caqueret", "Caracciolo A.": "caracciolo-a", "Carboni V.": "carboni-v", "Carlos Augusto": "carlos-augusto", "Carnesecchi": "carnesecchi", "Casadei": "casadei", "Casale": "casale", "Castagnetti": "castagnetti", "Castellanos": "castellanos", "Castro S.": "castro-s", "Cataldi": "cataldi", "Ceccherini": "ceccherini", "Celik": "celik", "Chukwueze": "chukwueze", "Ciocci": "ciocci", "Circati": "circati", "Coco": "coco", "Collocolo": "collocolo", "Colombo": "colombo", "Comuzzo": "comuzzo", "Conceicao": "conceicao", "Contini": "contini", "Coppola F.": "coppola-f", "Corvi": "corvi", "Coulibaly L.": "coulibaly-l", "Cristante": "cristante", "Cuadrado": "cuadrado", "Cutrone": "cutrone", "Da Cunha": "da-cunha", "Dallinga": "dallinga", "Darmian": "darmian", "David": "david", "Davis K.": "davis-k", "De Bruyne": "de-bruyne", "De Gea": "de-gea", "De Ketelaere": "de-ketelaere", "De Luca": "de-luca", "De Roon": "de-roon", "De Silvestri": "de-silvestri", "De Vrij": "de-vrij", "De Winter": "de-winter", "Deiola": "deiola", "Dele-Bashiru": "dele-bashiru", "Delprato": "delprato", "Dembelè A.": "dembele-a", "Denoon": "denoon", "Di Gennaro": "di-gennaro", "Di Gregorio": "di-gregorio", "Di Lorenzo": "di-lorenzo", "Di Pardo": "di-pardo", "Dia": "dia", "Diao": "diao", "Dimarco": "dimarco", "Djimsiti": "djimsiti", "Djuric": "djuric", "Dodò": "dodo", "Doig": "doig", "Dominguez B.": "dominguez-b", "Dossena": "dossena", "Douglas Luiz": "douglas-luiz", "Douvikas": "douvikas", "Dovbyk": "dovbyk", "Dumfries": "dumfries", "Dybala": "dybala", "Dzeko": "dzeko", "Ebosse": "ebosse", "Ederson D.S.": "ederson-d-s", "Ehizibue": "ehizibue", "Ekhator": "ekhator", "Ekkelenkamp": "ekkelenkamp", "Ekuban": "ekuban", "El Aynaoui": "el-aynaoui", "El Shaarawy": "el-shaarawy", "Ellertsson": "ellertsson", "Engelhardt": "engelhardt", "Esposito F.P.": "esposito-f-p", "Esposito Se.": "esposito-se", "Esteves T.": "esteves-t", "Estevez": "estevez", "Estupinan": "estupinan", "Fabbian": "fabbian", "Fadera": "fadera", "Fagioli": "fagioli", "Falcone": "falcone", "Fazzini": "fazzini", "Felici": "felici", "Ferguson": "ferguson", "Ferguson E.": "ferguson-e", "Floriani Mussolini": "floriani-mussolini", "Fofana Y.": "fofana-y", "Folino": "folino", "Folorunsho": "folorunsho", "Fortini": "fortini", "Frattesi": "frattesi", "Frendrup": "frendrup", "Frese": "frese", "Freuler": "freuler", "Frigan": "frigan", "Fruchtl": "fruchtl", "Furlanetto": "furlanetto", "Gabbia": "gabbia", "Gabrielloni": "gabrielloni", "Gaetano": "gaetano", "Gallo": "gallo", "Gaspar K.": "gaspar-k", "Gatti": "gatti", "Ghilardi": "ghilardi", "Ghion": "ghion", "Gigot": "gigot", "Gila": "gila", "Gilmour": "gilmour", "Gimenez": "gimenez", "Gineitis": "gineitis", "Giovane": "giovane", "Godfrey": "godfrey", "Goglichidze": "goglichidze", "Goldaniga": "goldaniga", "Gollini": "gollini", "Gonzalez N.": "gonzalez-n", "Gosens": "gosens", "Grassi": "grassi", "Gronbaek": "gronbaek", "Gudmundsson A.": "gudmundsson-a", "Guendouzi": "guendouzi", "Harroui": "harroui", "Heggem": "heggem", "Helgason": "helgason", "Hermoso": "hermoso", "Hernani": "hernani", "Hien": "hien", "Hojholt": "hojholt", "Holm": "holm", "Hysaj": "hysaj", "Iannoni": "iannoni", "Idrissi R.": "idrissi-r", "Idzes": "idzes", "Ilic": "ilic", "Ilic M.": "ilic-m", "Immobile": "immobile", "Isaksen": "isaksen", "Ismajli": "ismajli", "Israel": "israel", "Jack": "jack", "Jashari": "jashari", "Jean": "jean", "Jimenez A.": "jimenez-a", "Joao Mario": "joao-mario", "Johnsen": "johnsen", "Juan Jesus": "juan-jesus", "Kaba": "kaba", "Kabasele": "kabasele", "Kalulu": "kalulu", "Kamara H.": "kamara-h", "Karlsson": "karlsson", "Karlstrom": "karlstrom", "Kastanos": "kastanos", "Kean": "kean", "Keita M.": "keita-m", "Kelly L.": "kelly-l", "Kempf": "kempf", "Kilicsoy": "kilicsoy", "Kolasinac": "kolasinac", "Konè I.": "kone-i", "Konè M.": "kone-m", "Koopmeiners": "koopmeiners", "Kossounou": "kossounou", "Kostic": "kostic", "Kouassi": "kouassi", "Kristensen T.": "kristensen-t", "Krstovic": "krstovic", "Kuhn": "kuhn", "Kumbulla": "kumbulla", "Lang": "lang", "Laurientè": "lauriente", "Lazaro": "lazaro", "Lazzari": "lazzari", "Leali": "leali", "Leao": "leao", "Leris": "leris", "Lezzerini": "lezzerini", "Lind": "lind", "Lipani": "lipani", "Liteta": "liteta", "Lobotka": "lobotka", "Locatelli": "locatelli", "Loftus-Cheek": "loftus-cheek", "Lookman": "lookman", "Lovik": "lovik", "Lovric": "lovric", "Lucca": "lucca", "Lucumì": "lucumi", "Luis Henrique": "luis-henrique", "Lukaku": "lukaku", "Luperto": "luperto", "Luvumbo": "luvumbo", "Lykogiannis": "lykogiannis", "Maignan": "maignan", "Maldini": "maldini", "Maleh": "maleh", "Malinovskyi": "malinovskyi", "Mancini": "mancini", "Mandas": "mandas", "Mandragora": "mandragora", "Marcandalli": "marcandalli", "Marchwinski": "marchwinski", "Marianucci": "marianucci", "Marin M.": "marin-m", "Maripan": "maripan", "Martin": "martin", "Martinelli T.": "martinelli-t", "Martinez Jo.": "martinez-jo", "Martinez L.": "martinez-l", "Marusic": "marusic", "Marì": "mari", "Masina": "masina", "Masini": "masini", "Mateus Lusuardi": "mateus-lusuardi", "Mazzitelli": "mazzitelli", "Mazzocchi": "mazzocchi", "Mbambi": "mbambi", "McKennie": "mckennie", "McTominay": "mctominay", "Meister": "meister", "Meret": "meret", "Messias": "messias", "Milik": "milik", "Milinkovic-Savic V.": "milinkovic-savic-v", "Miller L.": "miller-l", "Mina": "mina", "Miranda J.": "miranda-j", "Miretti": "miretti", "Missori": "missori", "Mkhitaryan": "mkhitaryan", "Modric": "modric", "Montipò": "montipo", "Morata": "morata", "Moreno Alb.": "moreno-alb", "Moreo": "moreo", "Moro L.": "moro-l", "Moro N.": "moro-n", "Mosquera": "mosquera", "Muharemovic": "muharemovic", "Mulattieri": "mulattieri", "Muric": "muric", "Musah": "musah", "N'Dicka": "n-dicka", "N'Dri": "n-dri", "Nasti": "nasti", "Nava": "nava", "Ndaba": "ndaba", "Ndiaye": "ndiaye", "Ndour": "ndour", "Neres": "neres", "Ngonge": "ngonge", "Niasse": "niasse", "Nicolas": "nicolas", "Njie": "njie", "Norton-Cuffy": "norton-cuffy", "Noslin": "noslin", "Nunziante": "nunziante", "Nzola": "nzola", "Obert": "obert", "Odenthal": "odenthal", "Odgaard": "odgaard", "Okafor": "okafor", "Okereke": "okereke", "Okoye": "okoye", "Olivera": "olivera", "Ondrejka": "ondrejka", "Ordonez C.": "ordonez-c", "Orsolini": "orsolini", "Ostigard": "ostigard", "Otoa": "otoa", "Oyegoke": "oyegoke", "Padelli": "padelli", "Pafundi": "pafundi", "Paleari": "paleari", "Palestra": "palestra", "Palma": "palma", "Parisi": "parisi", "Pasalic": "pasalic", "Patric": "patric", "Pavard": "pavard", "Pavlovic": "pavlovic", "Pavoletti": "pavoletti", "Payero": "payero", "Paz N.": "paz-n", "Paz Y.": "paz-y", "Pedersen": "pedersen", "Pedro": "pedro", "Pellegrini Lo.": "pellegrini-lo", "Pellegrini Lu.": "pellegrini-lu", "Pellegrino M.": "pellegrino-m", "Perez M.": "perez-m", "Perilli": "perilli", "Perin": "perin", "Perrone": "perrone", "Pessina Mas.": "pessina-mas", "Pezzella Giu.": "pezzella-giu", "Piccinini G.": "piccinini-g", "Piccoli": "piccoli", "Pickel": "pickel", "Pieragnolo": "pieragnolo", "Pierini": "pierini", "Pierotti": "pierotti", "Pierret": "pierret", "Pinamonti": "pinamonti", "Pinsoglio": "pinsoglio", "Piotrowski": "piotrowski", "Pisilli": "pisilli", "Pizarro": "pizarro", "Pobega": "pobega", "Politano": "politano", "Pongracic": "pongracic", "Popa": "popa", "Posch": "posch", "Prati": "prati", "Provedel": "provedel", "Provstgaard": "provstgaard", "Pulisic": "pulisic", "Radunovic": "radunovic", "Rafia": "rafia", "Ramadani": "ramadani", "Ramon": "ramon", "Ranieri L.": "ranieri-l", "Ravaglia F.": "ravaglia-f", "Rensch": "rensch", "Ricci S.": "ricci-s", "Richardson": "richardson", "Rinaldi": "rinaldi", "Rocha Livramento": "rocha-livramento", "Rodriguez Je.": "rodriguez-je", "Rog": "rog", "Romagna": "romagna", "Romagnoli": "romagnoli", "Rossi F.": "rossi-f", "Rouhi": "rouhi", "Rovella": "rovella", "Rrahmani": "rrahmani", "Rugani": "rugani", "Rui Modesto": "rui-modesto", "Rus": "rus", "Russo A.": "russo-a", "Sabelli": "sabelli", "Sabiri": "sabiri", "Saelemaekers": "saelemaekers", "Salah-Eddine": "salah-eddine", "Samardzic": "samardzic", "Samooja": "samooja", "Sanabria": "sanabria", "Sanchez": "sanchez", "Santiago": "santiago", "Sarr A.": "sarr-a", "Satalino": "satalino", "Sava": "sava", "Savona": "savona", "Scalvini": "scalvini", "Scamacca": "scamacca", "Schuurs": "schuurs", "Scuffet": "scuffet", "Semper": "semper", "Serdar": "serdar", "Sergi Roberto": "sergi-roberto", "Sernicola": "sernicola", "Siegrist": "siegrist", "Silvestri": "silvestri", "Simeone": "simeone", "Skjellerup": "skjellerup", "Skorupski": "skorupski", "Slotsager": "slotsager", "Smolcic I.": "smolcic-i", "Sohm": "sohm", "Solet": "solet", "Sommariva": "sommariva", "Sommer": "sommer", "Sorensen O.": "sorensen-o", "Sottil": "sottil", "Soulè": "soule", "Spinazzola": "spinazzola", "Sportiello": "sportiello", "Stanciu": "stanciu", "Sucic P.": "sucic-p", "Sulemana I.": "sulemana-i", "Sulemana K.": "sulemana-k", "Suslov": "suslov", "Suzuki": "suzuki", "Svilar": "svilar", "Tameze": "tameze", "Taremi": "taremi", "Tavares N.": "tavares-n", "Tchatchoua": "tchatchoua", "Terracciano": "terracciano", "Terracciano F.": "terracciano-f", "Tete Morente": "tete-morente", "Thorsby": "thorsby", "Thorstvedt": "thorstvedt", "Thuram": "thuram", "Thuram K.": "thuram-k", "Tiago Gabriel": "tiago-gabriel", "Tomori": "tomori", "Torriani": "torriani", "Tourè E.": "toure-e", "Tourè I.": "toure-i", "Tramoni M.": "tramoni-m", "Turati": "turati", "Unai Nunez": "unai-nunez", "Valenti": "valenti", "Valentini N.": "valentini-n", "Valeri": "valeri", "Valle": "valle", "Valoti": "valoti", "Van Der Brempt": "van-der-brempt", "Vandeputte": "vandeputte", "Vasquez": "vasquez", "Vasquez D.": "vasquez-d", "Vazquez": "vazquez", "Vecino": "vecino", "Veiga D.": "veiga-d", "Venturino": "venturino", "Veroli": "veroli", "Vigorito": "vigorito", "Viti": "viti", "Vitik": "vitik", "Vitinha O.": "vitinha-o", "Vlahovic": "vlahovic", "Vlasic": "vlasic", "Vogliacco": "vogliacco", "Vojvoda": "vojvoda", "Volpato": "volpato", "Vural": "vural", "Walukiewicz": "walukiewicz", "Wesley": "wesley", "Yildiz": "yildiz", "Zaccagni": "zaccagni", "Zalewski": "zalewski", "Zambo Anguissa": "zambo-anguissa", "Zanoli": "zanoli", "Zapata D.": "zapata-d", "Zappa": "zappa", "Zappacosta": "zappacosta", "Zarraga": "zarraga", "Zelezny": "zelezny", "Zemura": "zemura", "Zerbin": "zerbin", "Zielinski": "zielinski", "Zortea": "zortea"}; // name -> slug
    const previewLines = Object.entries(pairs).slice(0,30).map(([name,slug])=> slug + "  →  " + name);
    document.getElementById('preview').textContent = previewLines.join("\n");

    async function importa(){
      try {
        show("Inizio import...", true);
        log("Pulizia nodo /players ...");
        await db.ref('players').set(null);

        const payload = {}
        for (const [name, slug] of Object.entries(pairs)) {
          payload[slug] = { name };
        }
        log("Scrittura di " + Object.keys(payload).length + " record su /players ...");
        await db.ref('players').set(payload);
        show("Import completato ✅", true);
        log("Fatto.");
      } catch (err) {
        console.error(err);
        show("ERRORE: " + err.message, false);
        log("Dettagli:", err.code||'', err.message||'');
      }
    }
  </script>
</body>
</html>
